import{f as w,g as V,H as $,h as b,j as y,k as f,l as x,m as q,n as u,o as z,p as A,q as N,r as P,t as S,u as W,v as B,w as D,x as F,y as _,c as G,z as H,A as I}from"./CzKlrKge.js";import{a as J,r as j,h as p}from"./Dx_3HIZ5.js";import{a as O}from"./CjCr2JV8.js";const R=["touchstart","touchmove"];function T(t){return R.includes(t)}function X(t,e){var a=e==null?"":typeof e=="object"?e+"":e;a!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=a,t.nodeValue=a==null?"":a+"")}function k(t,e){return C(t,e)}function Y(t,e){w(),e.intro=e.intro??!1;const a=e.target,c=_,l=u;try{for(var n=V(a);n&&(n.nodeType!==8||n.data!==$);)n=b(n);if(!n)throw y;f(!0),x(n),q();const i=C(t,{...e,anchor:n});if(u===null||u.nodeType!==8||u.data!==z)throw A(),y;return f(!1),i}catch(i){if(i===y)return e.recover===!1&&N(),w(),P(a),f(!1),k(t,e);throw i}finally{f(c),x(l)}}const d=new Map;function C(t,{target:e,anchor:a,props:c={},events:l,context:n,intro:i=!0}){w();var m=new Set,h=o=>{for(var s=0;s<o.length;s++){var r=o[s];if(!m.has(r)){m.add(r);var v=T(r);e.addEventListener(r,p,{passive:v});var L=d.get(r);L===void 0?(document.addEventListener(r,p,{passive:v}),d.set(r,1)):d.set(r,L+1)}}};h(S(J)),j.add(h);var g=void 0,M=W(()=>{var o=a??e.appendChild(B());return D(()=>{if(n){F({});var s=I;s.c=n}l&&(c.$$events=l),_&&O(o,null),g=t(o,c)||{},_&&(G.nodes_end=u),n&&H()}),()=>{var s;for(var r of m){e.removeEventListener(r,p);var v=d.get(r);--v===0?(document.removeEventListener(r,p),d.delete(r)):d.set(r,v)}j.delete(h),o!==a&&((s=o.parentNode)==null||s.removeChild(o))}});return E.set(g,M),g}let E=new WeakMap;function Z(t,e){const a=E.get(t);return a?(E.delete(t),a(e)):Promise.resolve()}export{Y as h,k as m,X as s,Z as u};

import{S as h,E as J,F as L,G as c,I as Q,J as p,U as u,K as D,L as P,c as S,M as T,N as U,i as q,O as A,y as I,m as B,P as C,Q as F,R as H,l as V,k as M,T as N,w as j,V as k,n as Y}from"./CzKlrKge.js";function b(v,y=null,K){if(typeof v!="object"||v===null||h in v)return v;const s=U(v);if(s!==J&&s!==L)return v;var n=new Map,o=q(v),f=c(0);o&&n.set("length",c(v.length));var d;return new Proxy(v,{defineProperty(i,r,e){(!("value"in e)||e.configurable===!1||e.enumerable===!1||e.writable===!1)&&Q();var t=n.get(r);return t===void 0?(t=c(e.value),n.set(r,t)):p(t,b(e.value,d)),!0},deleteProperty(i,r){var e=n.get(r);if(e===void 0)r in i&&n.set(r,c(u));else{if(o&&typeof r=="string"){var t=n.get("length"),a=Number(r);Number.isInteger(a)&&a<t.v&&p(t,a)}p(e,u),G(f)}return!0},get(i,r,e){var t;if(r===h)return v;var a=n.get(r),l=r in i;if(a===void 0&&(!l||(t=D(i,r))!=null&&t.writable)&&(a=c(b(l?i[r]:u,d)),n.set(r,a)),a!==void 0){var g=P(a);return g===u?void 0:g}return Reflect.get(i,r,e)},getOwnPropertyDescriptor(i,r){var e=Reflect.getOwnPropertyDescriptor(i,r);if(e&&"value"in e){var t=n.get(r);t&&(e.value=P(t))}else if(e===void 0){var a=n.get(r),l=a==null?void 0:a.v;if(a!==void 0&&l!==u)return{enumerable:!0,configurable:!0,value:l,writable:!0}}return e},has(i,r){var e;if(r===h)return!0;var t=n.get(r),a=t!==void 0&&t.v!==u||Reflect.has(i,r);if(t!==void 0||S!==null&&(!a||(e=D(i,r))!=null&&e.writable)){t===void 0&&(t=c(a?b(i[r],d):u),n.set(r,t));var l=P(t);if(l===u)return!1}return a},set(i,r,e,t){var a,l=n.get(r),g=r in i;if(o&&r==="length")for(var w=e;w<l.v;w+=1){var m=n.get(w+"");m!==void 0?p(m,u):w in i&&(m=c(u),n.set(w+"",m))}l===void 0?(!g||(a=D(i,r))!=null&&a.writable)&&(l=c(void 0),p(l,b(e,d)),n.set(r,l)):(g=l.v!==u,p(l,b(e,d)));var R=Reflect.getOwnPropertyDescriptor(i,r);if(R!=null&&R.set&&R.set.call(t,e),!g){if(o&&typeof r=="string"){var x=n.get("length"),O=Number(r);Number.isInteger(O)&&O>=x.v&&p(x,O+1)}G(f)}return!0},ownKeys(i){P(f);var r=Reflect.ownKeys(i).filter(a=>{var l=n.get(a);return l===void 0||l.v!==u});for(var[e,t]of n)t.v!==u&&!(e in i)&&r.push(e);return r},setPrototypeOf(){T()}})}function G(v,y=1){p(v,v.v+y)}function Z(v,y,K=!1){I&&B();var s=v,n=null,o=null,f=u,d=K?C:0,i=!1;const r=(t,a=!0)=>{i=!0,e(a,t)},e=(t,a)=>{if(f===(f=t))return;let l=!1;if(I){const g=s.data===F;!!f===g&&(s=H(),V(s),M(!1),l=!0)}f?(n?N(n):a&&(n=j(()=>a(s))),o&&k(o,()=>{o=null})):(o?N(o):a&&(o=j(()=>a(s))),n&&k(n,()=>{n=null})),l&&M(!0)};A(()=>{i=!1,y(r),i||e(null,null)},d),I&&(s=Y)}export{Z as i,b as p};
